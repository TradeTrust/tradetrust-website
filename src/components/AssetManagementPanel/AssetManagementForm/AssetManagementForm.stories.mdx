import { useState } from "react";
import { Meta, Story, Props, Preview } from "@storybook/addon-docs/blocks";
import { AssetManagementForm } from "./AssetManagementForm";
import { AssetManagementActions } from "./../AssetManagementActions";
import { FormState } from "../../../constants/FormState";

<Meta title="AssetManagementForm" component={AssetManagementForm} />

# AssetManagementForm

AssetManagementForm with information.

---

### Props

<Props of={AssetManagementForm} />

---

### Not Logged in

(account === beneficiary && account === holder)

(formAction === None, account not exists)

<Preview>
  <Story name="Not Logged in">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.None);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account=""
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={() => {
            setAssetManagementAction(AssetManagementActions.None);
          }}
        />
      );
    }}
  </Story>
</Preview>

---

### Logged in

(account === beneficiary && account === holder)

(formAction === None, account exists)

<Preview>
  <Story name="Logged in">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.None);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
        />
      );
    }}
  </Story>
</Preview>

---

### Logged in, No Match

(account !== beneficiary && account !== holder)

(formAction === None, account exists)

<Preview>
  <Story name="No Match">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.None);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account="0xE94E4f16ad40ADc90C29Dc85b42F1213E034947C"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={() => {
            setAssetManagementAction(AssetManagementActions.None);
          }}
        />
      );
    }}
  </Story>
</Preview>

---

### Surrender

(account === beneficiary && account === holder)

(formAction === Surrender, account exists)

<Preview>
  <Story name="Surrender">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.Surrender);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
        />
      );
    }}
  </Story>
</Preview>

---

### Surrender

(account === beneficiary && account === holder)

(formAction === Surrender, account exists, surrenderingState === PENDING_CONFIRMATION)

<Preview>
  <Story name="Surrender/Pending">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.Surrender);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.PENDING_CONFIRMATION}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
        />
      );
    }}
  </Story>
</Preview>

---

### Surrender

(account === beneficiary && account === holder)

(formAction === Surrender, account exists, surrenderingState === CONFIRMED)

<Preview>
  <Story name="Surrender/Confirmed">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.Surrender);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.CONFIRMED}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
        />
      );
    }}
  </Story>
</Preview>

---

### Transfer Holder

<Preview>
  <Story name="Transfer Holder">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.TransferHolder);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
          onTransferHolder={(newHolder) => alert(`Transfer to ${newHolder}`)}
          holderTransferringState={FormState.UNINITIALIZED}
        />
      );
    }}
  </Story>
</Preview>

---

### Transfer Holder with error

<Preview>
  <Story name="Transfer Holder with Error">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.TransferHolder);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
          onTransferHolder={(newHolder) => alert(`Transfer to ${newHolder}`)}
          holderTransferringState={FormState.ERROR}
        />
      );
    }}
  </Story>
</Preview>

---

### Transfer Holder

<Preview>
  <Story name="Transfer Holder/Pending">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.TransferHolder);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
          onTransferHolder={(newHolder) => alert(`Transfer to ${newHolder}`)}
          holderTransferringState={FormState.PENDING_CONFIRMATION}
        />
      );
    }}
  </Story>
</Preview>

---

### Transfer Holder

<Preview>
  <Story name="Transfer Holder/Confirmed">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.TransferHolder);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
          onTransferHolder={(newHolder) => alert(`Transfer to ${newHolder}`)}
          holderTransferringState={FormState.CONFIRMED}
        />
      );
    }}
  </Story>
</Preview>

---

### Transfer Beneficiary

<Preview>
  <Story name="Transfer Beneficiary">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.EndorseBeneficiary);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
          onTransferHolder={(newHolder) => alert(`Transfer to ${newHolder}`)}
          holderTransferringState={FormState.UNINITIALIZED}
          onEndorseBeneficiary={(newBeneficiary) => alert(`Change beneficiary to ${newBeneficiary}`)}
          beneficiaryEndorseState={FormState.UNINITIALIZED}
        />
      );
    }}
  </Story>
</Preview>

---

### Transfer Beneficiary

<Preview>
  <Story name="Transfer Beneficiary with Error">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.EndorseBeneficiary);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
          onTransferHolder={(newHolder) => alert(`Transfer to ${newHolder}`)}
          holderTransferringState={FormState.UNINITIALIZED}
          onEndorseBeneficiary={(newBeneficiary) => alert(`Change beneficiary to ${newBeneficiary}`)}
          beneficiaryEndorseState={FormState.ERROR}
        />
      );
    }}
  </Story>
</Preview>

---

### Transfer Beneficiary

<Preview>
  <Story name="Transfer Beneficiary/Pending">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.EndorseBeneficiary);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
          onTransferHolder={(newHolder) => alert(`Transfer to ${newHolder}`)}
          holderTransferringState={FormState.UNINITIALIZED}
          onEndorseBeneficiary={(newBeneficiary) => alert(`Change beneficiary to ${newBeneficiary}`)}
          beneficiaryEndorseState={FormState.PENDING_CONFIRMATION}
        />
      );
    }}
  </Story>
</Preview>

---

### Transfer Beneficiary

<Preview>
  <Story name="Transfer Beneficiary/Confirmed">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.EndorseBeneficiary);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
          onTransferHolder={(newHolder) => alert(`Transfer to ${newHolder}`)}
          holderTransferringState={FormState.UNINITIALIZED}
          onEndorseBeneficiary={(newBeneficiary) => alert(`Change beneficiary to ${newBeneficiary}`)}
          beneficiaryEndorseState={FormState.CONFIRMED}
        />
      );
    }}
  </Story>
</Preview>

---

### Endorse Transfer

<Preview>
  <Story name="Endorse Transfer of Holder/Beneficiary">
    {() => {
      const [assetManagementAction, setAssetManagementAction] = useState(AssetManagementActions.EndorseTransfer);
      return (
        <AssetManagementForm
          onConnectToWallet={() => alert("Login to Metamask")}
          formAction={assetManagementAction}
          tokenId="0x5d063d51d222c0f5f84fbe18f8e5102859a262f5e1b50148131282d0ebde0066"
          tokenRegistryAddress="0xdA8DBd2Aaffc995F11314c0040716E791de5aEd2"
          onSurrender={() => {}}
          surrenderingState={FormState.UNINITIALIZED}
          account="0xa61B056dA0084a5f391EC137583073096880C2e3"
          beneficiary="0xa61B056dA0084a5f391EC137583073096880C2e3"
          holder="0xa61B056dA0084a5f391EC137583073096880C2e3"
          onSetFormAction={setAssetManagementAction}
          onTransferHolder={(newHolder) => alert(`Transfer to ${newHolder}`)}
          holderTransferringState={FormState.UNINITIALIZED}
          onEndorseBeneficiary={(newBeneficiary) => alert(`Change beneficiary to ${newBeneficiary}`)}
          beneficiaryEndorseState={FormState.UNINITIALIZED}
          approvedBeneficiary={"0xabc"}
          approvedHolder={"0xbcd"}
          onTransferToNewEscrow={(approvedBeneficiary, approvedHolder) =>
            alert(`Endorse Beneficiary: ${approvedBeneficiary}, Holder: ${approvedHolder}`)
          }
          transferToNewEscrowState={FormState.UNINITIALIZED}
        />
      );
    }}
  </Story>
</Preview>
